{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block title %} 
    {{super()}} Calcular costos
{% endblock %}

{% block content %}
    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">Panel de visualizacion {{title}}</div>
            <table class="table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Ingrediente</th>					
                        <th>Cantidad necesaria</th>		
                        <th>Cantidad de la presentacion</th>
                        <th>Unidad</th>					
                        <th>Cantidad a comprar</th>
                        <th>Precio</th>
                    </tr>
                </thead>
                <tbody>
                {% for i in ingredients  %}
                    <tr>
                        <th scope="row">1</th>
                        <td>{{i.id}}</td>
                        <td>{{ info[i.id].get('newQuantity') }}</td>
                        <td>{{ info[i.id].get('quantity') }}</td>
                        <td>{{i.get('unit')}}</td>
                        <td>{{ info[i.id].get('newNeed') }}</td>
                        <td>{{ info[i.id].get('newPrice') }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">Panel de totalizacion</div>
            <table class="table">
                <thead>
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>					
                        <th></th>		
                        <th>Cantidad solicitada</th>
                        <th>Porciones totales</th>					
                        <th>Total costo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row"></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>					
                        <th></th>		
                        <th>{{ amount }}</th>
                        <td>{{ servings }}</td>
                        <td>{{ total }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="ingredients__container" class="form-group" hidden>
            <div id="ingredient-row" class="form-group row">
                {% if ingredients %} 
                    <div class="col-sm-12 col-lg-12 col-md-12">
                        <label class="col-xs-12 col-sm-4 col-md-4 col-lg-4">Ingrediente</label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">Cantidad necesaria</label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">Cantidad de la presentacion</label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">Unidad</label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">Precio</label>
                    </div>
                    {% for i in ingredients %}
                    <div>
                        <div class="col-sm-12 col-lg-12 col-md-12 g-3">
                            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
                                <input type="text" class="form-control" name="ingredients-name" placeholder="250" required value="{{i.id}}">
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                                <input type="text" class="form-control" name="recipe-ingredients-quantity" placeholder="250" required value="{{i.get('newQuantity')}}">
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                                <input type="text" class="form-control" name="ingredients-quantity" placeholder="250" required value="{{ info[i.id].get('quantity') }}">
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                                <input type="text" class="form-control" name="ingredients-unit" placeholder="250" required value="{{i.get('unit')}}">
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                                <input type="text" class="form-control" name="ingredients-unit" placeholder="250" required value="{{  info[i.id].get('newPrice') }}">
                            </div>
                        </div>
                    </div>
                    {% endfor  %}
                    <hr class="my-4">
                    <div class="col-sm-12 col-lg-12 col-md-12">
                        <label class="col-xs-12 col-sm-7 col-md-7 col-lg-7"></label>
                        <label class="col-xs-12 col-sm-3 col-md-3 col-lg-3">Porciones totales</label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">Total costo</label>
                    </div>
                    <div class="col-sm-12 col-lg-12 col-md-12">
                        <label class="col-xs-12 col-sm-8 col-md-8 col-lg-8"></label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">{{ servings }}</label>
                        <label class="col-xs-12 col-sm-2 col-md-2 col-lg-2">{{ total }}</label>
                    </div>
                    
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}




